@model MyNaati.Ui.ViewModels.Shared.ApplicationForAccreditation.PurposeOfCredentialsModel
@{
    ViewBag.Title = "Application for Accreditation by Testing";
    ViewBag.Subtitle = "Purpose of Credentials";
    Layout = "~/Views/Shared/MasterPages/_ApplicationWizardLayout.cshtml";
    ViewBag.BreadCrumb = new List<Tuple<string, string>>
    {
        new Tuple<string, string>("Apply", Url.Action("Index", "ApplicationForAccreditation")),
        new Tuple<string, string>("Accreditation by Testing", Url.Action("Index", "ApplicationByTestingWizard")),
        new Tuple<string, string>("New Application", string.Empty)
    };
}
@section Scripts
{
    <script type="text/javascript">
        $(document).ready(function () {
            $(cancelButtons).show();
            $(previousButtons).show();
            $(nextButtons).show();

            $(otherSelector).change(function () { updateControlStatus() });
            updateControlStatus();

            $('#SkillsAssessment').click(function () {
                $('#skillAssessmentDiv').toggle();
            });

            $(currentAssessEducationalQualificationYesSelector).change(function () { updateControlStatus(); });
            $(currentAssessEducationalQualificationNoSelector).change(function () { updateControlStatus(); });
        });

        var otherSelector = '#Other';
        var otherDetailsSelector = '#OtherDetails';
        var currentAssessEducationalQualificationYesSelector = '#rbAssessEducationalQualificationYes';
        var currentAssessEducationalQualificationNoSelector = '#rbAssessEducationalQualificationNo';
        var currentOverseasQualificationComparableYesSelector = '#rbOverseasQualificationComparableYes';
        var currentOverseasQualificationComparableNoSelector = '#rbOverseasQualificationComparableNo';

        function updateControlStatus() {
            if ($(otherSelector).prop('checked')) {
                $(otherDetailsSelector).prop('disabled', false);
            }
            else {
                $(otherDetailsSelector).prop('disabled', true);
                $(otherDetailsSelector).val('');
            }
            if ($(currentAssessEducationalQualificationYesSelector).prop('checked')) {
                $(currentOverseasQualificationComparableYesSelector).prop('disabled', false);
                $(currentOverseasQualificationComparableNoSelector).prop('disabled', false);
            }
            else {
                $(currentOverseasQualificationComparableYesSelector).prop('disabled', true);
                $(currentOverseasQualificationComparableYesSelector).prop('checked', false);
                $(currentOverseasQualificationComparableNoSelector).prop('disabled', true);
                $(currentOverseasQualificationComparableNoSelector).prop('checked', true);
            }
        }
    </script>
}
@{ Html.RenderPartial("_ApplicationForAccreditationPurposeOfCredentialsPartial", Model); }
