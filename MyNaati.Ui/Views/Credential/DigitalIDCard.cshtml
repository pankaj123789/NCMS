@model MyNaati.Ui.ViewModels.Credential.CredentialIdCardModel
@{
    ViewBag.Title = "My Digital ID Card";
    Layout = "~/Views/Shared/MasterPages/_Layout.cshtml";
    ViewBag.BreadCrumb = new List<Tuple<string, string>>
{
        new Tuple<string, string>(ViewBag.Title, null)
    };
}
@if ((Model.MfaAndAccessCodeModel.MfaConfigured && Model.MfaAndAccessCodeModel.MfaActive) || Model.MfaAndAccessCodeModel.Email != "")
{
    <div class="row">
        <div class="col-lg-12" style="padding-left: 30px;">
            <h2 class="text-primary">@ViewBag.Title</h2>
        </div>
    </div>

    var firstIdCard = true;
    var credentialIdCardCount = 0;

    <div id="credentialIdCards" class="carousel slide" data-interval="false" data-ride="carousel">
        <ol class="carousel-indicators">
            @foreach (var credentialIdCard in Model.CredentialIdCards)
            {
                if (firstIdCard)
                {
                    <li data-target="#credentialIdCards" data-slide-to="@credentialIdCardCount" class="active"></li>
                    firstIdCard = false;
                    credentialIdCardCount++;
                    continue;
                }
                <li data-target="#credentialIdCards" data-slide-to="@credentialIdCardCount"></li>
                credentialIdCardCount++;
                continue;
            }
        </ol>
        <div class="carousel-inner" role="listbox">
            @{
                credentialIdCardCount = 0;
                firstIdCard = true;
            }
            @foreach (var credentialIdCard in Model.CredentialIdCards)
            {
                if (firstIdCard)
                {
                    <div class="item active">
                        <img class="d-block" src="@credentialIdCard">
                    </div>
                    firstIdCard = false;
                    credentialIdCardCount++;
                    continue;
                }
                <div class="item">
                    <img class="d-block" src="@credentialIdCard">
                </div>
                credentialIdCardCount++;
                continue;
            }
        </div>
        <a class="left carousel-control" href="#credentialIdCards" role="button" data-slide="prev">
            <span class="icon-prev" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#credentialIdCards" role="button" data-slide="next">
            <span class="icon-next" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
}
else
{
    @Html.Partial("_MfaAndAccessCodePartial",Model.MfaAndAccessCodeModel)
}

